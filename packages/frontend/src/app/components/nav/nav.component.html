<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-primary">
	<div class="container">
		<a class="navbar-brand" routerLink="/">Mi Primera Cita</a>

		<ul class="navbar-nav me-auto mb-2 mb-md-0">
			<ng-container *ngIf="currentUser$ | async">
				<li class="nav-item">
					<a class="nav-link" routerLink="/members" routerLinkActive="active"
						>Parejas</a
					>
				</li>
				<li class="nav-item">
					<a class="nav-link" routerLink="/lists" routerLinkActive="active"
						>Listas</a
					>
				</li>
				<li class="nav-item">
					<a class="nav-link" routerLink="/messages" routerLinkActive="active"
						>Mensajes</a
					>
				</li>
			</ng-container>
			<li class="nav-item">
				<a class="nav-link" routerLink="/errors" routerLinkActive="active"
					>Errores</a
				>
			</li>
		</ul>

		<div class="dropdown" *ngIf="currentUser$ | async as user" dropdown>
			<button class="dropdown-toggle text-light" dropdownToggle>
				Bienvenido {{ user.username | titlecase }}
			</button>
			<div class="dropdown-menu" *dropdownMenu>
				<a class="dropdown-item">Perfil</a>
				<a class="dropdown-item" (click)="logout()">Salir</a>
			</div>
		</div>

		<form
			*ngIf="!(currentUser$ | async)"
			#loginForm="ngForm"
			class="d-flex"
			(ngSubmit)="login()"
		>
			<input
				class="form-control me-2"
				type="text"
				placeholder="Username"
				aria-label="Username"
				name="username"
				[(ngModel)]="model.username"
			/>
			<input
				class="form-control me-2"
				type="password"
				placeholder="Password"
				aria-label="Password"
				name="password"
				[(ngModel)]="model.password"
			/>
			<button class="btn btn-outline-success" type="submit">Ingresar</button>
		</form>
	</div>
</nav>
